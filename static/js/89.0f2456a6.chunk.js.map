{"version":3,"file":"static/js/89.0f2456a6.chunk.js","mappings":"0SACA,EAAgC,+B,SCY1BA,EAAc,SAAC,GAAyB,IAAvBC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC7B,OACE,2BACE,eAAGC,UAAWC,EAAd,qBAA0CH,MAC1C,uBAAIC,MAGT,EAED,SAgCeG,EAAkB,GAAlBA,OAAAA,EAAAA,MAAAA,KAAAA,UAAAA,CAAAA,SAAAA,IAAf,OAAeA,GAAAA,EAAAA,EAAAA,GAAAA,IAAAA,MAAf,WAAiCC,GAAjC,kFACQC,GADR,kBACsBC,EAAAA,IAAqBC,EAAAA,KAClCC,IAAP,UAAgBJ,EAAhB,YACMK,GAHR,kBAIOC,EAAAA,IAJP,IAKIC,QAASC,EAAAA,IALb,mBAQ2BC,EAAAA,EAAAA,GAAUR,EAAQI,GAR7C,UAS0B,iBADhBK,EARV,QASiBC,KATjB,iBAUMC,IAAAA,OAAAA,QAAA,UAA2BF,EAASG,UAV1C,2BAWiC,oBAAlBH,EAASC,KAXxB,iBAYMC,IAAAA,OAAAA,QAAA,UAA2BF,EAASA,SAASI,KAAKC,iBAZxD,iDAcaL,GAdb,iEAiBIE,IAAAA,OAAAA,QAAA,iBAjBJ,yGA2BA,MA3DgB,WACd,IAAQZ,GAAYgB,EAAAA,EAAAA,MAAZhB,QACR,GAAwBiB,EAAAA,EAAAA,UAAS,IAAjC,eAAOH,EAAP,KAAaI,EAAb,KAaA,OAXAC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAS,mCAAG,oGACOrB,EAAkBC,GADzB,QACVU,EADU,SAGdQ,GAAQ,OAAIR,EAASI,KAAKO,UAHZ,2CAAH,qDAMfD,GAED,GAAE,KAGD,wBACGN,EAAKQ,OAAS,EACbR,EAAKS,KAAI,SAAAC,GAAO,OACd,SAAC9B,EAAD,CAEEC,OAAQ6B,EAAQ7B,OAChBC,QAAS4B,EAAQ5B,SAFZ4B,EAAQC,GAFD,KAQhB,sEAIP,C,uGClDM,SAAehB,EAAtB,iDAAO,OAAP,oBAAO,WAAyBR,EAAQI,GAAjC,iGAEoBqB,EAAAA,EAAAA,IAAM,kBAEtBzB,GAFqB,IAGxB0B,QAAO,UACFtB,KAGP,CAAEuB,OAAQC,YAAYC,QAAQ,OAT7B,cAEGpB,EAFH,yBAWIA,GAXJ,+I,sDCFA,IAAMF,EAAa,kC,uSCAnB,IAAMN,EAAmB,CAC9B6B,OAAQ,MACRC,OAAQ,oBAoBGC,EAAuB,CAClCC,QAAS,mDAEEC,EAAuB,CAClCC,SAAU,SAGCC,EAAoB,CAC/BH,QAAS,6CAEEI,EAAoB,CAC/BF,SAAU,QACVG,eAAe,GAGJC,EAA2B,CACtCN,QAAS,qCACT9B,IAAK,IAGMqC,EAA2B,CACtCL,SAAU,SAGCM,EAA2B,CACtCR,QAAS,sCACT9B,IAAK,IAGMuC,EAA2B,CACtCP,SAAU,SAECjC,EAA2B,CACtC+B,QAAS,sCACT9B,IAAK,IAGME,EAA2B,CACtC8B,SAAU,QACVQ,KAAM,E","sources":["webpack://goit-react-hw-05-movies/./src/components/reviews/Reviews.module.css?9ce4","components/reviews/Reviews.jsx","js/apireset/axios-data.js","js/config/apikey.js","js/config/stdquery.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"review_author\":\"Reviews_review_author__6GzYJ\"};","import { useParams } from 'react-router-dom';\nimport { useState, useEffect } from 'react';\nimport {\n  headerDefaultGet,\n  headerSearchMovieReviews,\n  paramsSearchMovieReviews,\n} from 'js/config/stdquery';\nimport { apikeyTMDB } from 'js/config/apikey';\nimport { axiosData } from 'js/apireset/axios-data';\nimport Notiflix from 'notiflix';\nimport css from './Reviews.module.css';\nimport PropTypes from 'prop-types';\n\nconst ReviewsItem = ({ author, content }) => {\n  return (\n    <li>\n      <p className={css.review_author}>Author: {author}</p>\n      <p>{content}</p>\n    </li>\n  );\n};\n\nconst Reviews = () => {\n  const { movieId } = useParams();\n  const [data, setData] = useState([]);\n\n  useEffect(() => {\n    const getMovies = async () => {\n      const response = await getDataFromServer(movieId);\n      if (response) {\n        setData([...response.data.results]);\n      }\n    };\n    getMovies();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <ul>\n      {data.length > 0 ? (\n        data.map(element => (\n          <ReviewsItem\n            key={element.id}\n            author={element.author}\n            content={element.content}\n          />\n        ))\n      ) : (\n        <p>We don't have any reviews for this movie.</p>\n      )}\n    </ul>\n  );\n};\n\nasync function getDataFromServer(movieId) {\n  const header = { ...headerDefaultGet, ...headerSearchMovieReviews };\n  header.url = `${movieId}/reviews`;\n  const parameters = {\n    ...paramsSearchMovieReviews,\n    api_key: apikeyTMDB,\n  };\n  try {\n    const response = await axiosData(header, parameters);\n    if (response.code === 'ERR_NETWORK') {\n      Notiflix.Notify.failure(`${response.message}`);\n    } else if (response.code === 'ERR_BAD_REQUEST') {\n      Notiflix.Notify.failure(`${response.response.data.status_message}`);\n    } else {\n      return response;\n    }\n  } catch (error) {\n    Notiflix.Notify.failure(`${error}`);\n    return error;\n  }\n}\n\nReviewsItem.propTypes = {\n  author: PropTypes.string,\n  content: PropTypes.string,\n};\n\nexport default Reviews;\n","// import axios, { isCancel, AxiosError } from 'axios';\nimport axios from 'axios';\nexport async function axiosData(header, parameters) {\n  try {\n    const response = await axios(\n      {\n        ...header,\n        params: {\n          ...parameters,\n        },\n      },\n      { signal: AbortSignal.timeout(5000) }\n    );\n    return response;\n  } catch (error) {\n    return error;\n  }\n}\n","export const apikeyTMDB = '201a0d25c5ee0bd75c195a2bbfd9dec7';\n","export const headerDefaultGet = {\n  method: 'get',\n  accept: 'application/json',\n};\n\nexport const headerGenres = {\n  baseURL: 'https://api.themoviedb.org/3/genre/movie/list/',\n};\n\nexport const paramsGenres = {\n  language: 'en',\n};\n\nexport const headerTrailer = {\n  baseURL: 'https://api.themoviedb.org/3/movie',\n  url: '',\n};\n\nexport const paramsTrailer = {\n  language: 'en-US',\n};\n\nexport const headerTrendingMovies = {\n  baseURL: 'https://api.themoviedb.org/3/trending/movie/day',\n};\nexport const paramsTrendingMovies = {\n  language: 'en-US',\n};\n\nexport const headerSearchMovie = {\n  baseURL: 'https://api.themoviedb.org/3/search/movie',\n};\nexport const paramsSearchMovie = {\n  language: 'en-US',\n  include_adult: false,\n};\n\nexport const headerSearchMovieDetails = {\n  baseURL: 'https://api.themoviedb.org/3/movie',\n  url: '',\n};\n\nexport const paramsSearchMovieDetails = {\n  language: 'en-US',\n};\n\nexport const headerSearchMovieCredits = {\n  baseURL: 'https://api.themoviedb.org/3/movie/',\n  url: '',\n};\n\nexport const paramsSearchMovieCredits = {\n  language: 'en-US',\n};\nexport const headerSearchMovieReviews = {\n  baseURL: 'https://api.themoviedb.org/3/movie/',\n  url: '',\n};\n\nexport const paramsSearchMovieReviews = {\n  language: 'en-US',\n  page: 1,\n};\n"],"names":["ReviewsItem","author","content","className","css","getDataFromServer","movieId","header","headerDefaultGet","headerSearchMovieReviews","url","parameters","paramsSearchMovieReviews","api_key","apikeyTMDB","axiosData","response","code","Notiflix","message","data","status_message","useParams","useState","setData","useEffect","getMovies","results","length","map","element","id","axios","params","signal","AbortSignal","timeout","method","accept","headerTrendingMovies","baseURL","paramsTrendingMovies","language","headerSearchMovie","paramsSearchMovie","include_adult","headerSearchMovieDetails","paramsSearchMovieDetails","headerSearchMovieCredits","paramsSearchMovieCredits","page"],"sourceRoot":""}