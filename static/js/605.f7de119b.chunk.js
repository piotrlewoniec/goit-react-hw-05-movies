"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[605],{670:function(e,t,n){n.d(t,{z:function(){return s}});var a="Button_btn__-L8VN",r=n(184),s=function(e){var t=e.label,n=e.action,s=e.formButton,i=void 0!==s&&s,c=e.id;return!0===i?(0,r.jsx)("button",{className:a,type:"submit",onClick:n,children:t}):(0,r.jsx)("button",{className:a,type:"button",onClick:n,"data-id":c,children:t})}},801:function(e,t,n){n.d(t,{A:function(){return o}});var a=n(683),r=n(861),s=n(757),i=n.n(s),c=n(243);function o(e,t){return u.apply(this,arguments)}function u(){return(u=(0,r.Z)(i().mark((function e(t,n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,c.Z)((0,a.Z)((0,a.Z)({},t),{},{params:(0,a.Z)({},n)}),{signal:AbortSignal.timeout(5e3)});case 3:return r=e.sent,e.abrupt("return",r);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}},606:function(e,t,n){n.d(t,{W:function(){return a}});var a="201a0d25c5ee0bd75c195a2bbfd9dec7"},686:function(e,t,n){n.d(t,{$p:function(){return u},CX:function(){return r},Fy:function(){return a},MU:function(){return c},f3:function(){return l},fE:function(){return p},fN:function(){return i},hl:function(){return o},il:function(){return s},jZ:function(){return d},jj:function(){return f}});var a={method:"get",accept:"application/json"},r={baseURL:"https://api.themoviedb.org/3/trending/movie/day"},s={language:"en-US"},i={baseURL:"https://api.themoviedb.org/3/search/movie"},c={language:"en-US",include_adult:!1},o={baseURL:"https://api.themoviedb.org/3/movie",url:""},u={language:"en-US"},l={baseURL:"https://api.themoviedb.org/3/movie/",url:""},f={language:"en-US"},d={baseURL:"https://api.themoviedb.org/3/movie/",url:""},p={language:"en-US",page:1}},605:function(e,t,n){n.r(t),n.d(t,{default:function(){return L}});var a,r=n(683),s=n(861),i=n(439),c=n(757),o=n.n(c),u=n(689),l=n(87),f=n(791),d=n(670),p=n(686),m=n(606),v=n(801),h=n(919),_=n.n(h),x="MovieDetails_moviedetalsec__XVv8g",b="MovieDetails_addinfo__7CsIk",g="MovieDetails_moviewrapper__+IZiy",j="MovieDetails_movieposter__TpeeU",N="MovieDetails_moviedatawrapper__iOf2G",k="MovieDetails_movietitle__EdLDd",w="MovieDetails_movieoverview__7Rt2v",U="MovieDetails_moviedatalabel__s58lm",y=n(156),Z=n(184),R=function(e){var t=e.data,n=t.genres.map((function(e){return e.name})).join(", "),a=new Date(t.release_date).getFullYear();return(0,Z.jsxs)("div",{className:g,children:[(0,Z.jsx)("div",{children:(0,Z.jsx)("img",{className:j,src:"https://image.tmdb.org/t/p/original".concat(t.poster_path),alt:t.title})}),(0,Z.jsxs)("ul",{className:N,children:[(0,Z.jsxs)("li",{className:k,children:[t.title," (",a,")"]}),(0,Z.jsxs)("li",{children:[(0,Z.jsx)("span",{className:U,children:"User Score: "}),(0,Z.jsxs)("span",{children:[Math.trunc(10*t.vote_average),"%"]})]}),(0,Z.jsxs)("li",{className:w,children:[(0,Z.jsx)("span",{className:U,children:"Overview"}),(0,Z.jsx)("span",{children:t.overview})]}),(0,Z.jsxs)("li",{className:w,children:[(0,Z.jsx)("span",{className:U,children:"Genres"}),(0,Z.jsx)("span",{children:n})]})]})]})};function D(e){return S.apply(this,arguments)}function S(){return(S=(0,s.Z)(o().mark((function e(t){var n,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=(0,r.Z)((0,r.Z)({},p.Fy),p.hl)).url="".concat(t),a=(0,r.Z)((0,r.Z)({},p.$p),{},{api_key:m.W}),e.prev=3,e.next=6,(0,v.A)(n,a);case 6:if("ERR_NETWORK"!==(s=e.sent).code){e.next=11;break}_().Notify.failure("".concat(s.message)),e.next=16;break;case 11:if("ERR_BAD_REQUEST"!==s.code){e.next=15;break}_().Notify.failure("".concat(s.response.data.status_message)),e.next=16;break;case 15:return e.abrupt("return",s);case 16:e.next=22;break;case 18:return e.prev=18,e.t0=e.catch(3),_().Notify.failure("".concat(e.t0)),e.abrupt("return",e.t0);case 22:case"end":return e.stop()}}),e,null,[[3,18]])})))).apply(this,arguments)}var L=function(){var e=(0,u.UO)().movieId,t=(0,u.s0)(),n=(0,u.TH)(),r=(0,f.useState)({}),c=(0,i.Z)(r,2),p=c[0],m=c[1],v=(0,f.useState)(!1),h=(0,i.Z)(v,2),_=h[0],g=h[1],j=(0,y.d)(),N=j.isLoadingOn,k=j.isLoadingOff;(0,f.useEffect)((function(){a=n}),[]),(0,f.useEffect)((function(){var t=function(){var t=(0,s.Z)(o().mark((function t(){var n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return N(),t.next=3,D(e);case 3:(n=t.sent)&&(m(n.data),g(!0)),k();case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[e]);return(0,Z.jsxs)("main",{children:[(0,Z.jsxs)("section",{className:x,children:[(0,Z.jsx)(d.z,{label:"Go back",action:function(){null!==n.state?"/movies"===n.state.from.pathname&&""===n.state.from.search?t("/movies",{replace:!1}):null!==n.state.from.state&&"/movies"===n.state.from.state.from.pathname&&""!==n.state.from.state.from.search?t("/movies"+n.state.from.state.from.search,{replace:!1}):"/movies"===n.state.from.pathname&&""!==n.state.from.search?t("/movies"+n.state.from.search,{replace:!1}):t("/",{replace:!1}):t("/",{replace:!1})}}),_&&(0,Z.jsx)(R,{data:p})]}),(0,Z.jsxs)("section",{className:b,children:["Additional information",(0,Z.jsxs)("ul",{children:[(0,Z.jsx)("li",{children:(0,Z.jsx)(l.rU,{to:"cast",state:{from:a},children:"Cast"})}),(0,Z.jsx)("li",{children:(0,Z.jsx)(l.rU,{to:"reviews",state:{from:a},children:"Reviews"})})]})]}),(0,Z.jsx)(f.Suspense,{fallback:(0,Z.jsx)("div",{children:"Loading..."}),children:(0,Z.jsx)(u.j3,{})})]})}}}]);
//# sourceMappingURL=605.f7de119b.chunk.js.map